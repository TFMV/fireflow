<?xml version="1.0" encoding="UTF-8"?>
<f:view xmlns:f="http://java.sun.com/jsf/core" xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html" xmlns:w="http://www.apusic.com/jsf/widget"
        xmlns:layout="http://www.apusic.com/jsf/layout" xmlns:om="http://www.apusic.com/jsf/misc"
        renderKitId="AJAX">
        <w:head>
                <w:stylesheet src="/common/resources/examples.css" />
        </w:head>
        <w:page title="EditGrid Demo">
                <div align="center" >
                <h3>流程实例</h3>
                </div>
                <br />
                <w:form style="width:80%;height:80%">
                        <w:editDataGrid id="grid" paged="true" var="procInst" singleSelect="true" rows="10" toolBarPosition="top">
                        	<w:gridHeader>
                        		<w:gridHeaderCell label="实例Id" />
                        		<w:gridHeaderCell label="名称" />
                        		<w:gridHeaderCell label="中文名称" />
                        		<w:gridHeaderCell label="版本" />
                        		<w:gridHeaderCell label="状态" />
                        		<w:gridHeaderCell label="是否挂起" />
                        		<w:gridHeaderCell label="创建人" />
                        		<w:gridHeaderCell label="创建时间" />
                        		<w:gridHeaderCell label="结束时间" />
                        	</w:gridHeader>
                        	
                        	
                        	<w:outputColumn id="id" >
                        	 <h:commandLink target="InstanceDetailsViewer" value="#{procInst.id}"  action="#{InstancesDataViewerBean.onSelectBizData}" > 
                        	<f:param name="selectedObjectId" value="#{procInst.id}" />
                        	</h:commandLink>
                        	</w:outputColumn>
                        	<w:outputColumn id="name" >
                        		<w:textField id="nameEdit" allowBlank="false" />
                        	</w:outputColumn>
                        	<w:outputColumn id="displayName" >
                        		<w:textField id="displayNameEdit" allowBlank="false" />
                        	</w:outputColumn>
                        	<w:outputColumn id="version" >
                        		<w:textField id="versionEdit" allowBlank="false" />
                        	</w:outputColumn>
                        	<w:outputColumn id="state" value="#{Utilities.workflowElementInstanceStates[procInst.state]}" >
                        		<w:textField id="stateEdit" allowBlank="false" />
                        	</w:outputColumn>
                        	<w:outputColumn id="suspended" >
                        		<w:textField id="suspendedEdit" allowBlank="false" />
                        	</w:outputColumn>
                        	<w:outputColumn id="creatorId" >
                        		<w:textField id="creatorIdEdit" allowBlank="false" />
                        	</w:outputColumn>
                        	<w:outputColumn id="createdTime" >
                        		<w:textField id="createdTimeEdit" allowBlank="false" />
                        	</w:outputColumn>
                        	<w:outputColumn id="endTime" >
                        		<w:textField id="endTimeEdit" allowBlank="false" />
                        	</w:outputColumn>
                                <w:pagingToolbar>
                                	<w:separator />
                                    <w:button id="claim" value="签收" image="../images/save.gif" action="#{WorkItemListBean.claim}" />
                                    <w:button id="open" value="处理" image="../images/save.gif"  action="#{WorkItemListBean.open}" />
	                        		<w:menu label="操作" >
	                                	<h:commandLink  target="InstanceDetailsViewer" action="#{InstancesDataViewerBean.onSelectBizData}"  > 
	                        			详情
	                        			</h:commandLink>
	                               	</w:menu>
                                </w:pagingToolbar>
                        </w:editDataGrid>
                </w:form>
                <div><iframe id="InstanceDetailsViewer" name="InstanceDetailsViewer" height="400" width="100%" /></div>
        </w:page>
</f:view>